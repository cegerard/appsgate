<apam xmlns="fr.imag.adele.apam" xmlns:ipojo="org.apache.felix.ipojo"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="fr.imag.adele.apam http://repository-apam.forge.cloudbees.com/release/schema/ApamCore.xsd
                          org.apache.felix.ipojo http://felix.apache.org/ipojo/schemas/CURRENT/core.xsd">

	<composite name="AppsGate-Application" singleton="true">
		<contentMngt>
		    
		    <start implementation="AppsGatePersistency" name="AppsGatePersistencyInst"></start>

			<start implementation="AppsGateImpl" name="AppsGateInst"></start>

			<start implementation="AppsGateContextFollowerImpl" name="AppsGateContextFollowerInst"></start>
			
            <start implementation="AppsgateGoogleAdapter" name="AppsgateGoogleAdapterInst"></start>			

			<start implementation="ConfigurableClockImpl" name="ConfigurableClockInst"></start>

			<start implementation="AppsGateUPnPMediaServices" name="UPnPMediaAdapter"></start>

			<start implementation="YahooWeatherImpl" name="YahooWeather">
				<property name="auto-refresh" value="1800000" />
			</start>

			<!-- inst Fuchsia-FakeDiscovery -->

			<!-- inst ARDSwitchLinker -->
			<!-- inst ARDSwitchImporter -->

			<!-- inst MediaPlayerFactory_Appli-1 -->
			<!-- inst AppsGateContextFollowerImpl_Appli-1 -->


			<!-- inst Global-PropertyHistoryManager -->
			<!-- inst AppsGateContextDeviceNameTableInst -->
			<!-- inst MediaBrowserFactory_Appli-1 -->
			<!-- inst AppsGateRouterImpl_Appli-1 -->

			<!-- <own specification="CoreObjectSpec"></own> -->
			<!-- <own specification="CoreClockSpec"></own> -->
			<!-- <own specification="CoreCalendarSpec"></own> -->
			<!-- <own specification="CoreTemperatureSensorSpec"></own> -->
			<!-- <own specification="CoreColorLightSpec"></own> -->
			<!-- <own specification="CoreWeatherServiceSpec"></own> -->
			<!-- <own specification="CoreOccupancySpec"></own> -->
			<!-- <own specification="CoreMediaBrowserSpec"></own> -->
			<!-- <own specification="CoreCO2SensorSpec"></own> -->
			<!-- <own specification="CoreSmartPlugSpec"></own> -->
			<!-- <own specification="CoreOnOffActuatorSpec"></own> -->
			<!-- <own specification="CoreContactSensorSpec"></own> -->
			<!-- <own specification="CoreKeyCardSensorSpec"></own> -->
			<!-- <own specification="CoreUndefinedSensorSpec"></own> -->
			<!-- <own specification="CoreSwitchSensorSpec"></own> -->

			<!-- <own specification="CoreMediaPlayerSpec"></own> -->
			<!-- <own specification="CoreLuminositySensorSpec"></own> -->
		</contentMngt>

	</composite>

	<composite name="AppsGateUPnPMediaServices">
		<contentMngt>
			<start implementation="AppsgateUPnPAdapter" name="adapter" />
			<start implementation="MediaPlayerFactory" name="Global-MediaPlayerFactory"></start>
			<start implementation="MediaBrowserFactory" name="Global-MediaBrowserFactory"></start>
		</contentMngt>
	</composite>

    <composite name="AppsGatePersistency">
        <contentMngt>
            <start implementation="PropertyHistoryManager" name="Global-PropertyHistoryManager" />
            <start implementation="AppsgateContextHistory" name="Global-ContextHistoryManager"></start>
        </contentMngt>
    </composite>

	<apam-instance name="appsgate" implementation="AppsGate-Application" />

</apam>